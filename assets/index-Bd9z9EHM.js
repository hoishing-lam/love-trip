import{d as C,h as F,b as K,c as t,O as _,a as p,f as H,r as V,t as B,m as M,k as O,w as j,at as U,T as q,ao as G,aj as X,ap as Z,p as J,g as Q,V as W,au as Y,s as ee,v as A,X as I,z as te,E as ne,av as oe,x as ae,_ as se}from"./index-D5cxyobe.js";import{c as N,I as le,H as ie,d as re}from"./index-BgUXB2JX.js";import{L as R,u as ce}from"./index-6A7RBb_s.js";import{_ as ue}from"./girl-FJAfX9Oy.js";import{u as de}from"./index-Divl5uMO.js";import{p as $,b as fe}from"./dom-BxR6M3PG.js";import{u as he,r as ge}from"./use-route-C5mlU08v.js";const[ve,w]=K("button"),me=F({},ge,{tag:_("button"),text:String,icon:String,type:_("default"),size:_("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:_("button"),loadingSize:p,loadingText:String,loadingType:String,iconPosition:_("left")});var xe=C({name:ve,props:me,emits:["click"],setup(e,{emit:s,slots:l}){const a=he(),r=()=>l.loading?l.loading():t(R,{size:e.loadingSize,type:e.loadingType,class:w("loading")},null),h=()=>{if(e.loading)return r();if(l.icon)return t("div",{class:w("icon")},[l.icon()]);if(e.icon)return t(le,{name:e.icon,class:w("icon"),classPrefix:e.iconPrefix},null)},v=()=>{let n;if(e.loading?n=e.loadingText:n=l.default?l.default():e.text,n)return t("span",{class:w("text")},[n])},d=()=>{const{color:n,plain:u}=e;if(n){const f={color:u?n:"white"};return u||(f.background=n),n.includes("gradient")?f.border=0:f.borderColor=n,f}},m=n=>{e.loading?$(n):e.disabled||(s("click",n),a())};return()=>{const{tag:n,type:u,size:f,block:x,round:y,plain:g,square:T,loading:o,disabled:i,hairline:c,nativeType:S,iconPosition:P}=e,E=[w([u,f,{plain:g,block:x,round:y,square:T,loading:o,disabled:i,hairline:c}]),{[N]:c}];return t(n,{type:S,class:E,style:d(),disabled:i,onClick:m},{default:()=>[t("div",{class:w("content")},[P==="left"&&h(),v(),P==="right"&&h()])]})}}});const ye=H(xe),[be,k]=K("key"),_e=t("svg",{class:k("collapse-icon"),viewBox:"0 0 30 24"},[t("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),we=t("svg",{class:k("delete-icon"),viewBox:"0 0 32 22"},[t("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var D=C({name:be,props:{type:String,text:p,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:s,slots:l}){const a=V(!1),r=ce(),h=n=>{r.start(n),a.value=!0},v=n=>{r.move(n),r.direction.value&&(a.value=!1)},d=n=>{a.value&&(l.default||$(n),a.value=!1,s("press",e.text,e.type))},m=()=>{if(e.loading)return t(R,{class:k("loading-icon")},null);const n=l.default?l.default():e.text;switch(e.type){case"delete":return n||we;case"extra":return n||_e;default:return n}};return()=>t("div",{class:k("wrapper",{wider:e.wider}),onTouchstartPassive:h,onTouchmovePassive:v,onTouchend:d,onTouchcancel:d},[t("div",{role:"button",tabindex:0,class:k([e.color,{large:e.large,active:a.value,delete:e.type==="delete"}])},[m()])])}});const[Be,b]=K("number-keyboard"),Te={show:Boolean,title:String,theme:_("default"),zIndex:p,teleport:[String,Object],maxlength:M(1/0),modelValue:_(""),transition:B,blurOnClose:B,showDeleteKey:B,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:B,safeAreaInsetBottom:B,extraKey:{type:[String,Array],default:""}};function Se(e){for(let s=e.length-1;s>0;s--){const l=Math.floor(Math.random()*(s+1)),a=e[s];e[s]=e[l],e[l]=a}return e}var Pe=C({name:Be,inheritAttrs:!1,props:Te,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:s,slots:l,attrs:a}){const r=V(),h=()=>{const o=Array(9).fill("").map((i,c)=>({text:c+1}));return e.randomKeyOrder&&Se(o),o},v=()=>[...h(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],d=()=>{const o=h(),{extraKey:i}=e,c=Array.isArray(i)?i:[i];return c.length===0?o.push({text:0,wider:!0}):c.length===1?o.push({text:0,wider:!0},{text:c[0],type:"extra"}):c.length===2&&o.push({text:c[0],type:"extra"},{text:0},{text:c[1],type:"extra"}),o},m=O(()=>e.theme==="custom"?d():v()),n=()=>{e.show&&s("blur")},u=()=>{s("close"),e.blurOnClose&&n()},f=()=>s(e.show?"show":"hide"),x=(o,i)=>{if(o===""){i==="extra"&&n();return}const c=e.modelValue;i==="delete"?(s("delete"),s("update:modelValue",c.slice(0,c.length-1))):i==="close"?u():c.length<+e.maxlength&&(s("input",o),s("update:modelValue",c+o))},y=()=>{const{title:o,theme:i,closeButtonText:c}=e,S=l["title-left"],P=c&&i==="default";if(o||P||S)return t("div",{class:b("header")},[S&&t("span",{class:b("title-left")},[S()]),o&&t("h2",{class:b("title")},[o]),P&&t("button",{type:"button",class:[b("close"),ie],onClick:u},[c])])},g=()=>m.value.map(o=>{const i={};return o.type==="delete"&&(i.default=l.delete),o.type==="extra"&&(i.default=l["extra-key"]),t(D,{key:o.text,text:o.text,type:o.type,wider:o.wider,color:o.color,onPress:x},i)}),T=()=>{if(e.theme==="custom")return t("div",{class:b("sidebar")},[e.showDeleteKey&&t(D,{large:!0,text:e.deleteButtonText,type:"delete",onPress:x},{default:l.delete}),t(D,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:x},null)])};return j(()=>e.show,o=>{e.transition||s(o?"show":"hide")}),e.hideOnClickOutside&&U(r,n,{eventName:"touchstart"}),()=>{const o=y(),i=t(q,{name:e.transition?"van-slide-up":""},{default:()=>[X(t("div",J({ref:r,style:Q(e.zIndex),class:b({unfit:!e.safeAreaInsetBottom,"with-title":!!o}),onAnimationend:f,onTouchstartPassive:fe},a),[o,t("div",{class:b("body")},[t("div",{class:b("keys")},[g()]),T()])]),[[Z,e.show]])]});return e.teleport?t(G,{to:e.teleport},{default:()=>[i]}):i}}});const ze=H(Pe),[ke,z]=K("password-input"),Ce={info:String,mask:B,value:_(""),gutter:p,length:M(6),focused:Boolean,errorInfo:String};var Ie=C({name:ke,props:Ce,emits:["focus"],setup(e,{emit:s}){const l=r=>{r.stopPropagation(),s("focus",r)},a=()=>{const r=[],{mask:h,value:v,gutter:d,focused:m}=e,n=+e.length;for(let u=0;u<n;u++){const f=v[u],x=u!==0&&!d,y=m&&u===v.length;let g;u!==0&&d&&(g={marginLeft:W(d)}),r.push(t("li",{class:[{[re]:x},z("item",{focus:y})],style:g},[h?t("i",{style:{visibility:f?"visible":"hidden"}},null):f,y&&t("div",{class:z("cursor")},null)]))}return r};return()=>{const r=e.errorInfo||e.info;return t("div",{class:z()},[t("ul",{class:[z("security"),{[N]:!e.gutter}],onTouchstartPassive:l},[a()]),r&&t("div",{class:z(e.errorInfo?"error-info":"info")},[r])])}}});const Ve=H(Ie),Ke="950705",pe={class:"page-auth__container"},Ae={class:"page-auth__header"},De={class:"page-auth__footer"},L=6,Le=C({name:"Signin",__name:"index",setup(e){const s=oe(),l=Y(),a=V(""),{state:r,setTrue:h,setFalse:v}=de(),d=V(),m=O(()=>a.value?void 0:"请输入密码"),n=O(()=>a.value.length!==L);function u(y){a.value.length<L&&(a.value=a.value+String(y))}function f(){a.value.length>0&&(a.value=a.value.substring(0,a.value.length-1))}function x(){a.value===Ke?(l.setToken("true"),s.push("/")):d.value="密码错误"}return(y,g)=>{const T=Ve,o=ze,i=ye;return ae(),ee("div",pe,[A("header",Ae,[g[0]||(g[0]=A("img",{class:"auth-header__logo",src:ue},null,-1)),t(T,{value:a.value,gutter:12,length:L,focused:I(r),info:m.value,"error-info":d.value,onFocus:I(h)},null,8,["value","focused","info","error-info","onFocus"]),t(o,{value:a.value,show:I(r),onInput:u,onDelete:f,onBlur:I(v)},null,8,["value","show","onBlur"])]),A("footer",De,[t(i,{type:"primary",block:"",disabled:n.value,onClick:x},{default:te(()=>[...g[1]||(g[1]=[ne(" 登录 ",-1)])]),_:1},8,["disabled"])])])}}}),Fe=se(Le,[["__scopeId","data-v-78992785"]]);export{Fe as default};
