import{d as C,h as F,b as p,c as t,O as _,a as K,f as H,r as V,t as T,m as M,k as O,w as U,at as j,T as q,ao as G,aj as X,ap as Z,p as J,g as Q,V as W,au as Y,s as ee,v as A,X as I,z as te,E as ne,av as oe,x as ae,aw as se,_ as le}from"./index-rw95QKZm.js";import{c as R,I as ie,H as re,d as ce}from"./index-D0wUM2-c.js";import{L as N,u as ue}from"./index-BQJUwyIZ.js";import{_ as de}from"./girl-FJAfX9Oy.js";import{u as fe}from"./index-CugDxm51.js";import{p as $,b as he}from"./dom-Cuq73F4W.js";import{u as ge,r as ve}from"./use-route-CSB8mi9M.js";const[me,B]=p("button"),xe=F({},ve,{tag:_("button"),text:String,icon:String,type:_("default"),size:_("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:_("button"),loadingSize:K,loadingText:String,loadingType:String,iconPosition:_("left")});var ye=C({name:me,props:xe,emits:["click"],setup(e,{emit:s,slots:l}){const u=ge(),a=()=>l.loading?l.loading():t(N,{size:e.loadingSize,type:e.loadingType,class:B("loading")},null),f=()=>{if(e.loading)return a();if(l.icon)return t("div",{class:B("icon")},[l.icon()]);if(e.icon)return t(ie,{name:e.icon,class:B("icon"),classPrefix:e.iconPrefix},null)},v=()=>{let n;if(e.loading?n=e.loadingText:n=l.default?l.default():e.text,n)return t("span",{class:B("text")},[n])},h=()=>{const{color:n,plain:c}=e;if(n){const d={color:c?n:"white"};return c||(d.background=n),n.includes("gradient")?d.border=0:d.borderColor=n,d}},m=n=>{e.loading?$(n):e.disabled||(s("click",n),u())};return()=>{const{tag:n,type:c,size:d,block:x,round:y,plain:g,square:b,loading:o,disabled:i,hairline:r,nativeType:S,iconPosition:P}=e,E=[B([c,d,{plain:g,block:x,round:y,square:b,loading:o,disabled:i,hairline:r}]),{[R]:r}];return t(n,{type:S,class:E,style:h(),disabled:i,onClick:m},{default:()=>[t("div",{class:B("content")},[P==="left"&&f(),v(),P==="right"&&f()])]})}}});const be=H(ye),[we,k]=p("key"),_e=t("svg",{class:k("collapse-icon"),viewBox:"0 0 30 24"},[t("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),Be=t("svg",{class:k("delete-icon"),viewBox:"0 0 32 22"},[t("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var D=C({name:we,props:{type:String,text:K,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:s,slots:l}){const u=V(!1),a=ue(),f=n=>{a.start(n),u.value=!0},v=n=>{a.move(n),a.direction.value&&(u.value=!1)},h=n=>{u.value&&(l.default||$(n),u.value=!1,s("press",e.text,e.type))},m=()=>{if(e.loading)return t(N,{class:k("loading-icon")},null);const n=l.default?l.default():e.text;switch(e.type){case"delete":return n||Be;case"extra":return n||_e;default:return n}};return()=>t("div",{class:k("wrapper",{wider:e.wider}),onTouchstartPassive:f,onTouchmovePassive:v,onTouchend:h,onTouchcancel:h},[t("div",{role:"button",tabindex:0,class:k([e.color,{large:e.large,active:u.value,delete:e.type==="delete"}])},[m()])])}});const[Te,w]=p("number-keyboard"),Se={show:Boolean,title:String,theme:_("default"),zIndex:K,teleport:[String,Object],maxlength:M(1/0),modelValue:_(""),transition:T,blurOnClose:T,showDeleteKey:T,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:T,safeAreaInsetBottom:T,extraKey:{type:[String,Array],default:""}};function Pe(e){for(let s=e.length-1;s>0;s--){const l=Math.floor(Math.random()*(s+1)),u=e[s];e[s]=e[l],e[l]=u}return e}var ze=C({name:Te,inheritAttrs:!1,props:Se,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:s,slots:l,attrs:u}){const a=V(),f=()=>{const o=Array(9).fill("").map((i,r)=>({text:r+1}));return e.randomKeyOrder&&Pe(o),o},v=()=>[...f(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],h=()=>{const o=f(),{extraKey:i}=e,r=Array.isArray(i)?i:[i];return r.length===0?o.push({text:0,wider:!0}):r.length===1?o.push({text:0,wider:!0},{text:r[0],type:"extra"}):r.length===2&&o.push({text:r[0],type:"extra"},{text:0},{text:r[1],type:"extra"}),o},m=O(()=>e.theme==="custom"?h():v()),n=()=>{e.show&&s("blur")},c=()=>{s("close"),e.blurOnClose&&n()},d=()=>s(e.show?"show":"hide"),x=(o,i)=>{if(o===""){i==="extra"&&n();return}const r=e.modelValue;i==="delete"?(s("delete"),s("update:modelValue",r.slice(0,r.length-1))):i==="close"?c():r.length<+e.maxlength&&(s("input",o),s("update:modelValue",r+o))},y=()=>{const{title:o,theme:i,closeButtonText:r}=e,S=l["title-left"],P=r&&i==="default";if(o||P||S)return t("div",{class:w("header")},[S&&t("span",{class:w("title-left")},[S()]),o&&t("h2",{class:w("title")},[o]),P&&t("button",{type:"button",class:[w("close"),re],onClick:c},[r])])},g=()=>m.value.map(o=>{const i={};return o.type==="delete"&&(i.default=l.delete),o.type==="extra"&&(i.default=l["extra-key"]),t(D,{key:o.text,text:o.text,type:o.type,wider:o.wider,color:o.color,onPress:x},i)}),b=()=>{if(e.theme==="custom")return t("div",{class:w("sidebar")},[e.showDeleteKey&&t(D,{large:!0,text:e.deleteButtonText,type:"delete",onPress:x},{default:l.delete}),t(D,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:x},null)])};return U(()=>e.show,o=>{e.transition||s(o?"show":"hide")}),e.hideOnClickOutside&&j(a,n,{eventName:"touchstart"}),()=>{const o=y(),i=t(q,{name:e.transition?"van-slide-up":""},{default:()=>[X(t("div",J({ref:a,style:Q(e.zIndex),class:w({unfit:!e.safeAreaInsetBottom,"with-title":!!o}),onAnimationend:d,onTouchstartPassive:he},u),[o,t("div",{class:w("body")},[t("div",{class:w("keys")},[g()]),b()])]),[[Z,e.show]])]});return e.teleport?t(G,{to:e.teleport},{default:()=>[i]}):i}}});const ke=H(ze),[Ce,z]=p("password-input"),Ie={info:String,mask:T,value:_(""),gutter:K,length:M(6),focused:Boolean,errorInfo:String};var Ve=C({name:Ce,props:Ie,emits:["focus"],setup(e,{emit:s}){const l=a=>{a.stopPropagation(),s("focus",a)},u=()=>{const a=[],{mask:f,value:v,gutter:h,focused:m}=e,n=+e.length;for(let c=0;c<n;c++){const d=v[c],x=c!==0&&!h,y=m&&c===v.length;let g;c!==0&&h&&(g={marginLeft:W(h)}),a.push(t("li",{class:[{[ce]:x},z("item",{focus:y})],style:g},[f?t("i",{style:{visibility:d?"visible":"hidden"}},null):d,y&&t("div",{class:z("cursor")},null)]))}return a};return()=>{const a=e.errorInfo||e.info;return t("div",{class:z()},[t("ul",{class:[z("security"),{[R]:!e.gutter}],onTouchstartPassive:l},[u()]),a&&t("div",{class:z(e.errorInfo?"error-info":"info")},[a])])}}});const pe=H(Ve),Ke="950705",Ae={class:"page-auth__container"},De={class:"page-auth__header"},Le={class:"page-auth__footer"},L=6,Oe=C({name:"Signin",__name:"index",props:{to:{}},setup(e){const s=e,l=oe(),u=Y(),a=V(""),{state:f,setTrue:v,setFalse:h}=fe(),m=V(),n=O(()=>a.value?void 0:"请输入密码"),c=O(()=>a.value.length!==L);function d(g){a.value.length<L&&(a.value=a.value+String(g))}function x(){a.value.length>0&&(a.value=a.value.substring(0,a.value.length-1))}function y(){if(a.value===Ke){u.setToken("true");const g=decodeURIComponent(s.to||"/");l.push(se(g))}else m.value="密码错误"}return(g,b)=>{const o=pe,i=ke,r=be;return ae(),ee("div",Ae,[A("header",De,[b[0]||(b[0]=A("img",{class:"auth-header__logo",src:de},null,-1)),t(o,{value:a.value,gutter:12,length:L,focused:I(f),info:n.value,"error-info":m.value,onFocus:I(v)},null,8,["value","focused","info","error-info","onFocus"]),t(i,{value:a.value,show:I(f),onInput:d,onDelete:x,onBlur:I(h)},null,8,["value","show","onBlur"])]),A("footer",Le,[t(r,{type:"primary",block:"",disabled:c.value,onClick:y},{default:te(()=>[...b[1]||(b[1]=[ne(" 登录 ",-1)])]),_:1},8,["disabled"])])])}}}),Ue=le(Oe,[["__scopeId","data-v-833cff4c"]]);export{Ue as default};
